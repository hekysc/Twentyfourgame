"use strict";const e=require("../common/vendor.js"),n=require("../utils/tab-cache.js"),t={__name:"CustomTabBar",setup(t){const i=e.ref(""),a=e.ref(""),s=e.getCurrentInstance();let c=null;function r(){var e;try{const n=getCurrentPages&&getCurrentPages(),t=n&&n[n.length-1];i.value=t&&(t.route||(null==(e=t.$page)?void 0:e.fullPath)||"")||""}catch(n){i.value=""}}function u(e){const n=i.value;return!!n&&("stats"===e?n.includes("pages/stats/index"):"index"===e?n.includes("pages/index/index"):"user"===e&&n.includes("pages/user/index"))}function o(e){if(!e)return"";const n=String(e);return(n.startsWith("/")?n:"/"+n).split(/[?#]/)[0].replace(/\/+/g,"/")}function d(n){const t=function(){var e;try{const n=getCurrentPages&&getCurrentPages(),t=n&&n[n.length-1];return o(t&&(t.route||(null==(e=t.$page)?void 0:e.fullPath)||"")||"")}catch(n){return""}}(),i=o(n);if(t&&i&&t===i)return;const a=()=>{try{r()}catch(e){}};e.index&&"function"==typeof e.index.switchTab?e.index.switchTab({url:n,success:a,fail(){"function"==typeof e.index.navigateTo?e.index.navigateTo({url:n,success:a,fail(){"function"==typeof e.index.reLaunch?e.index.reLaunch({url:n,success:a,fail:a}):a()}}):"function"==typeof e.index.reLaunch?e.index.reLaunch({url:n,success:a,fail:a}):a()}}):"function"==typeof e.index.navigateTo?e.index.navigateTo({url:n,success:a,fail(){"function"==typeof e.index.reLaunch?e.index.reLaunch({url:n,success:a,fail:a}):a()}}):"function"==typeof e.index.reLaunch&&e.index.reLaunch({url:n,success:a,fail:a})}function f(){try{e.nextTick$1((()=>{var t;const i=e.index.createSelectorQuery();i&&(null==s?void 0:s.proxy)&&i.in(s.proxy),null==(t=null==i?void 0:i.select(".ctb"))||t.boundingClientRect((e=>{e&&Number.isFinite(e.height)&&n.setTabBarHeight(e.height)})),null==i||i.exec()}))}catch(t){}}return e.onMounted((()=>{var t;try{e.index.hideTabBar&&e.index.hideTabBar()}catch(i){}r();try{const s=e.index.getSystemInfoSync&&e.index.getSystemInfoSync(),c=s&&s.safeAreaInsets&&s.safeAreaInsets.bottom||0;a.value="padding-bottom:"+(c?c+"px":"env(safe-area-inset-bottom)"),Number.isFinite(null==(t=null==s?void 0:s.safeAreaInsets)?void 0:t.bottom)&&n.setTabBarHeight((s.safeAreaInsets.bottom||0)+function(){const n=112;try{if("function"==typeof e.index.upx2px){const t=e.index.upx2px(n);if(Number.isFinite(t))return t}}catch(i){}return.5*n}())}catch(i){}f();try{e.index.$off&&e.index.$off("tabbar:update",r)}catch(i){}try{e.index.$on&&e.index.$on("tabbar:update",r)}catch(i){}try{if("function"==typeof e.index.onWindowResize){const n=()=>f();e.index.onWindowResize(n),c=()=>{try{e.index.offWindowResize(n)}catch(i){}}}}catch(i){c=null}})),e.onUnmounted((()=>{try{e.index.$off&&e.index.$off("tabbar:update",r)}catch(n){}if("function"==typeof c){try{c()}catch(n){}c=null}})),(n,t)=>({a:u("stats")?1:"",b:u("stats")?1:"",c:u("stats")?1:"",d:e.o((e=>d("/pages/stats/index"))),e:u("index")?1:"",f:u("index")?1:"",g:u("index")?1:"",h:e.o((e=>d("/pages/index/index"))),i:u("user")?1:"",j:u("user")?1:"",k:u("user")?1:"",l:e.o((e=>d("/pages/user/index"))),m:e.s(a.value)})}},i=e._export_sfc(t,[["__scopeId","data-v-706acd5c"]]);wx.createComponent(i);
